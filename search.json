[
  {
    "objectID": "interactive-deforestation-map.html",
    "href": "interactive-deforestation-map.html",
    "title": "Interactive Deforestation Map",
    "section": "",
    "text": "This script downloads WDPA data for a specified country and generates a web map displaying the selected protected areas (PAs) including a buffer region around it. Please adjust the params object in the YAML header to your requirements.\n\n\nCode\nbasemap_custom &lt;-\n  leaflet() |&gt;\n  # add external map providers\n  addTiles(group = \"OpenStreetMap\") |&gt;\n  addProviderTiles(providers$Esri.WorldImagery, group=\"Satellite\") |&gt;\n  addProviderTiles(providers$CartoDB.Positron, group=\"CartoDB\") |&gt;\n  addProviderTiles(providers$Esri.WorldShadedRelief, group=\"Topography\") |&gt;\n  addProviderTiles(providers$NASAGIBS.ViirsEarthAtNight2012, group=\"Nightlights\") |&gt;\n  addTiles(\n    \"https://tiles.globalforestwatch.org/umd_tree_cover_loss/latest/dynamic/{z}/{x}/{y}.png\",\n    group = \"Forest Cover Loss (2001-2020)\",\n    attribution = \"Hansen, M. C., P. V. Potapov, R. Moore, M. Hancher, S. A. Turubanova, A. Tyukavina, D. Thau, S. V. Stehman, S. J. Goetz, T. R. Loveland, A. Kommareddy, A. Egorov, L. Chini, C. O. Justice, and J. R. G. Townshend. 2013. “High-Resolution Global Maps of 21st-Century Forest Cover Change.” Science 342 (15 November): 850–53. Data available on-line from: http://earthenginepartners.appspot.com/science-2013-global-forest.\"\n  ) |&gt;\n  addTiles(\n    \"https://tiles.globalforestwatch.org/umd_regional_primary_forest_2001/latest/dynamic/{z}/{x}/{y}.png\",\n    group = \"Regional Primary Forests (2001)\",\n    attribution = \"Hansen, M. C., P. V. Potapov, R. Moore, M. Hancher, S. A. Turubanova, A. Tyukavina, D. Thau, S. V. Stehman, S. J. Goetz, T. R. Loveland, A. Kommareddy, A. Egorov, L. Chini, C. O. Justice, and J. R. G. Townshend. 2013. “High-Resolution Global Maps of 21st-Century Forest Cover Change.” Science 342 (15 November): 850–53. Data available on-line from: http://earthenginepartners.appspot.com/science-2013-global-forest.\"\n  ) |&gt;\n  addFullscreenControl() |&gt;\n  # add legend(s)\n  addLayersControl(\n    baseGroups = c(\"Satellite\", \"CartoDB\", \"OpenStreetMap\", \"Topography\", \"Nightlights\"),\n    overlayGroups = c(\"Protected Area\", \"Buffer Zone\", \"Forest Cover Loss (2001-2020)\", \"Regional Primary Forests (2001)\"),\n    options = layersControlOptions(collapsed = FALSE)) |&gt;\n  # uncheck some layers in layer control\n  hideGroup(group = c(\"Regional Primary Forests (2001)\",\"Labels (PA Names)\"))\n\ndeforestation_map &lt;- basemap_custom |&gt;\n  addPolygons(data = buffer, fillOpacity = 0.0, opacity = 0.8, color = params$col_bf, smoothFactor = 0, weight =params$lwd_bf, group = \"Buffer Zone\",\n              dashArray = \"10 8\") |&gt;\n  addPolygons(data = wdpa, fillOpacity = 0.0, opacity = 1.0, color = params$col_pa, smoothFactor = 0, weight = params$lwd_pa, group = \"Protected Area\")\n\n\n\n\n\n\n\n\n\n\nFound a column named 'assetid'. Overwritting its values with a unique identifier.\n\n\nWarning in check_namespace(\"progressr\", error = FALSE): R package 'progressr' required.\nPlease install via `install.packages('progressr')`FALSE\n\n\nWarning in .check_single_asset(result, chunk):\n\n\n\nLoss of forest cover over time\n\n\nCode\nggplot(data = inds) +\n  geom_col(aes(x=datetime, y=losses, fill=buffer), position=ifelse(params$stacked, \"stack\", \"dodge\")) +\n  labs(x = \"Year\", y = \"Forest cover losses (in ha)\", fill = \"Zone\") +\n  scale_x_datetime(date_breaks = \"1 year\", date_labels =  \"%Y\") +\n  scale_fill_manual(values = c(params$col_pa, params$col_bf)) +\n  theme_classic() +\n  theme(\n    axis.title=element_text(size=16),\n    axis.text=element_text(size=14),\n    axis.text.x=element_text(angle=60, hjust=1),\n    legend.position=\"bottom\"\n    )"
  }
]